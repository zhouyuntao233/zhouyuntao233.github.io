[{"title":"Javaæ•°æ®åº“","url":"/2021/03/13/Javaæ•°æ®åº“/","content":"\n### æ•°æ®åº“ç´¢å¼•\n\n1. ç´¢å¼•åˆ†ç±»ï¼šæ™®é€šç´¢å¼•ï¼Œå”¯ä¸€ç´¢å¼•ï¼Œå…¨æ–‡ç´¢å¼•ï¼Œç©ºé—´ç´¢å¼•\n2. å­˜å‚¨æ–¹å¼ï¼šB-Tree ,Hash\n\n#### æœ€å·¦åŒ¹é…åŸåˆ™\n\nè¿˜æ˜¯è¿™ä¸ªå›¾å¥½ç†è§£\n\n![image-20210313091354021](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210313091354021.png)\n\n##### MySQLçš„ç´¢å¼•ä¸ºä»€ä¹ˆç”¨B+æ ‘\n\n>B+ æ ‘æ˜¯**å¤šè·¯æŸ¥æ‰¾å¹³è¡¡æ ‘**çš„ä¸€ç§\n\nç”±Bæ ‘å’Œç´¢å¼•é¡ºåºè®¿é—®æ–¹æ³•æ¼”åŒ–è€Œæ¥ï¼Œå®ƒæ˜¯ä¸ºç£ç›˜æˆ–å…¶ä»–ç›´æ¥å­˜å–è¾…åŠ©è®¾å¤‡è®¾è®¡çš„ä¸€ç§å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼Œåœ¨B+æ ‘ä¸­ï¼Œæ‰€æœ‰è®°å½•èŠ‚ç‚¹éƒ½æ˜¯æŒ‰é”®å€¼çš„å¤§å°é¡ºåºå­˜æ”¾åœ¨åŒä¸€å±‚çš„å¶å­èŠ‚ç‚¹ï¼Œå„å¶å­èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿›è¡Œé“¾æ¥ã€‚å¦‚ä¸‹å›¾ï¼š\n\n![img](https://static.nowcoder.com/images/activity/2021jxy/java/img/btree-1.jpg)\n\nB+æ ‘ç´¢å¼•åœ¨æ•°æ®åº“ä¸­çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯é«˜æ‰‡å‡ºæ€§ï¼Œä¾‹å¦‚åœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­ï¼Œæ¯ä¸ªé¡µçš„å¤§å°ä¸º16KBã€‚åœ¨æ•°æ®åº“ä¸­ï¼ŒB+æ ‘çš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨2ï½4å±‚ï¼Œè¿™æ„å‘³ç€æŸ¥æ‰¾æŸä¸€é”®å€¼æœ€å¤šåªéœ€è¦2åˆ°4æ¬¡IOæ“ä½œï¼Œè¿™è¿˜ä¸é”™ã€‚å› ä¸ºç°åœ¨ä¸€èˆ¬çš„ç£ç›˜æ¯ç§’è‡³å°‘å¯ä»¥åš100æ¬¡IOæ“ä½œï¼Œ2ï½4æ¬¡çš„IOæ“ä½œæ„å‘³ç€æŸ¥è¯¢æ—¶é—´åªéœ€0.02ï½0.04ç§’ã€‚\n\n\n\n#### æ•°æ®åº“äº‹åŠ¡","tags":["Javaæ•°æ®åº“"],"categories":["è¯­è¨€åŸºç¡€"]},{"title":"Javaé¡¹ç›®","url":"/2021/03/11/Javaé¡¹ç›®/","content":"\nè®°å½•ä¸€ä¸‹é¡¹ç›®ä¸­çš„é›¶ç¢çŸ¥è¯†ç‚¹\n\n<!--more--> \n\n### Spring IOCå’ŒAOP\n\n\n**IOC** :å°±æ˜¯å°†å¯¹è±¡äº¤ç»™å®¹å™¨ç®¡ç†ï¼Œè¦ç”¨çš„æ—¶å€™å†å‘å®¹å™¨è¦å°±è¡Œäº†\n\nå¸¸ç”¨æ³¨è§£ï¼š\n\n**Controllerå±‚ï¼š** @Controller\n\n**Serviceå±‚:** @Service\n\n**Daoå±‚ï¼š** @Repository  ï¼ˆå¦‚æœä½¿ç”¨MyBatisçš„è¯ ï¼Œä¸€èˆ¬è¿˜è¦åŠ ä¸Šæ³¨è§£ @Mapperï¼‰\n\nå…¶å®è¿™ä¸‰ä¸ªå±‚ éƒ½å¯ä»¥ç”¨@Compoment  åªæ˜¯åå­—ä¸åŒç½¢äº†\n\n**AOP**: é¢å‘åˆ‡é¢ç¼–ç¨‹ é€šä¿—çš„è®²å°±æ˜¯ **ä»£ç†**\n\n![image-20210311162022364](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210311162022364.png)\n\n\n\n### cookie å’Œ session\n\n![image-20210311104114290](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210311104114290.png)\n\n#### \n\n\n\n","tags":["Java"],"categories":["å·¥ç¨‹é¡¹ç›®"]},{"title":"Javaå¤šçº¿ç¨‹","url":"/2021/03/10/Javaå¤šçº¿ç¨‹/","content":"\n<!--more--> \n\n\n\n![image-20210310141647100](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210310141647100.png)","tags":["Javaå¤šçº¿ç¨‹"],"categories":["è¯­è¨€åŸºç¡€"]},{"title":"JavaåŸºç¡€","url":"/2021/03/10/JavaåŸºç¡€/","content":"\n## JavaåŸºç¡€\n\n<!--more--> \n\n### ä¸ºä»€ä¹ˆJavaä»£ç å¯ä»¥å®ç°ä¸€æ¬¡ç¼–å†™ã€åˆ°å¤„è¿è¡Œï¼Ÿ\n\nJVMï¼ˆJavaè™šæ‹Ÿæœºï¼‰æ˜¯Javaè·¨å¹³å°çš„å…³é”®ã€‚\n\nåœ¨ç¨‹åºè¿è¡Œå‰ï¼ŒJavaæºä»£ç ï¼ˆ.javaï¼‰éœ€è¦ç»è¿‡ç¼–è¯‘å™¨ç¼–è¯‘æˆå­—èŠ‚ç ï¼ˆ.classï¼‰ã€‚åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒJVMè´Ÿè´£å°†å­—èŠ‚ç ç¿»è¯‘æˆç‰¹å®šå¹³å°ä¸‹çš„æœºå™¨ç å¹¶è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦åœ¨ä¸åŒçš„å¹³å°ä¸Šå®‰è£…å¯¹åº”çš„JVMï¼Œå°±å¯ä»¥è¿è¡Œå­—èŠ‚ç æ–‡ä»¶ã€‚\n\nåŒä¸€ä»½Javaæºä»£ç åœ¨ä¸åŒçš„å¹³å°ä¸Šè¿è¡Œï¼Œå®ƒä¸éœ€è¦åšä»»ä½•çš„æ”¹å˜ï¼Œå¹¶ä¸”åªéœ€è¦ç¼–è¯‘ä¸€æ¬¡ã€‚è€Œç¼–è¯‘å¥½çš„å­—èŠ‚ç ï¼Œæ˜¯é€šè¿‡JVMè¿™ä¸ªä¸­é—´çš„â€œæ¡¥æ¢â€å®ç°è·¨å¹³å°çš„ï¼ŒJVMæ˜¯ä¸å¹³å°ç›¸å…³çš„è½¯ä»¶ï¼Œå®ƒèƒ½å°†ç»Ÿä¸€çš„å­—èŠ‚ç ç¿»è¯‘æˆè¯¥å¹³å°çš„æœºå™¨ç ã€‚\n\n### Java è®¿é—®æƒé™\n\nJavaè¯­è¨€ä¸ºæˆ‘ä»¬æä¾›äº†ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦ï¼Œå³privateã€protectedã€publicï¼Œåœ¨ä½¿ç”¨è¿™äº›ä¿®é¥°ç¬¦ä¿®é¥°ç›®æ ‡æ—¶ï¼Œä¸€å…±å¯ä»¥å½¢æˆå››ç§è®¿é—®æƒé™ï¼Œå³privateã€defalutã€protectedã€publicï¼Œæ³¨æ„åœ¨ä¸åŠ ä»»ä½•ä¿®é¥°ç¬¦æ—¶ä¸ºdefaultè®¿é—®æƒé™ã€‚\n\nåœ¨ä¿®é¥°æˆå‘˜å˜é‡/æˆå‘˜æ–¹æ³•æ—¶ï¼Œè¯¥æˆå‘˜çš„å››ç§è®¿é—®æƒé™çš„å«ä¹‰å¦‚ä¸‹ï¼š\n\n- privateï¼šè¯¥æˆå‘˜å¯ä»¥è¢«è¯¥ç±»å†…éƒ¨æˆå‘˜è®¿é—®ï¼›\n- defalutï¼šè¯¥æˆå‘˜å¯ä»¥è¢«è¯¥ç±»å†…éƒ¨æˆå‘˜è®¿é—®ï¼Œä¹Ÿå¯ä»¥è¢«åŒä¸€åŒ…ä¸‹å…¶ä»–çš„ç±»è®¿é—®ï¼›\n- protectedï¼šè¯¥æˆå‘˜å¯ä»¥è¢«è¯¥ç±»å†…éƒ¨æˆå‘˜è®¿é—®ï¼Œä¹Ÿå¯ä»¥è¢«åŒä¸€åŒ…ä¸‹å…¶ä»–çš„ç±»è®¿é—®ï¼Œè¿˜å¯ä»¥è¢«å®ƒçš„å­ç±»è®¿é—®ï¼›\n- publicï¼šè¯¥æˆå‘˜å¯ä»¥è¢«ä»»æ„åŒ…ä¸‹ï¼Œä»»æ„ç±»çš„æˆå‘˜è¿›è¡Œè®¿é—®ã€‚\n\nåœ¨ä¿®é¥°ç±»æ—¶ï¼Œè¯¥ç±»åªæœ‰ä¸¤ç§è®¿é—®æƒé™ï¼Œå¯¹åº”çš„è®¿é—®æƒé™çš„å«ä¹‰å¦‚ä¸‹ï¼š\n\n- defalutï¼šè¯¥ç±»å¯ä»¥è¢«åŒä¸€åŒ…ä¸‹å…¶ä»–çš„ç±»è®¿é—®ï¼›\n- publicï¼šè¯¥ç±»å¯ä»¥è¢«ä»»æ„åŒ…ä¸‹ï¼Œä»»æ„çš„ç±»æ‰€è®¿é—®ã€‚\n\n###  Java æ•°æ®ç±»å‹\n\nJavaæ•°æ®ç±»å‹åŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ä¸¤å¤§ç±»ã€‚\n\nåŸºæœ¬æ•°æ®ç±»å‹æœ‰8ä¸ªï¼Œå¯ä»¥åˆ†ä¸º4ä¸ªå°ç±»ï¼Œåˆ†åˆ«æ˜¯æ•´æ•°ç±»å‹ï¼ˆbyte/short/int/longï¼‰ã€æµ®ç‚¹ç±»å‹ï¼ˆfloat/doubleï¼‰ã€å­—ç¬¦ç±»å‹ï¼ˆcharï¼‰ã€å¸ƒå°”ç±»å‹ï¼ˆbooleanï¼‰ã€‚å…¶ä¸­ï¼Œ4ä¸ªæ•´æ•°ç±»å‹ä¸­ï¼Œintç±»å‹æœ€ä¸ºå¸¸ç”¨ã€‚2ä¸ªæµ®ç‚¹ç±»å‹ä¸­ï¼Œdoubleæœ€ä¸ºå¸¸ç”¨ã€‚å¦å¤–ï¼Œåœ¨è¿™8ä¸ªåŸºæœ¬ç±»å‹å½“ä¸­ï¼Œé™¤äº†å¸ƒå°”ç±»å‹ä¹‹å¤–çš„å…¶ä»–7ä¸ªç±»å‹ï¼Œéƒ½å¯ä»¥çœ‹åšæ˜¯æ•°å­—ç±»å‹ï¼Œå®ƒä»¬ç›¸äº’ä¹‹é—´å¯ä»¥è¿›è¡Œç±»å‹è½¬æ¢ã€‚\n\nå¼•ç”¨ç±»å‹å°±æ˜¯å¯¹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œæ ¹æ®å¼•ç”¨å¯¹è±¡ç±»å‹çš„ä¸åŒï¼Œå¯ä»¥å°†å¼•ç”¨ç±»å‹åˆ†ä¸º3ç±»ï¼Œå³æ•°ç»„ã€ç±»ã€æ¥å£ç±»å‹ã€‚å¼•ç”¨ç±»å‹æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡æŒ‡é’ˆï¼ŒæŒ‡å‘å †ä¸­å¯¹è±¡æ‰€æŒæœ‰çš„å†…å­˜ç©ºé—´ï¼Œåªæ˜¯Javaè¯­è¨€ä¸å†æ²¿ç”¨æŒ‡é’ˆè¿™ä¸ªè¯´æ³•è€Œå·²ã€‚\n\n**æ‰©å±•é˜…è¯»**\n\nå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½ éœ€è¦äº†è§£æ¯ç§ç±»å‹æ‰€å æ®çš„å†…å­˜ç©ºé—´ï¼Œé¢è¯•å®˜å¯èƒ½ä¼šè¿½é—®è¿™ç±»é—®é¢˜ï¼š\n\n- **byteï¼š1å­—èŠ‚ï¼ˆ8ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´æ˜¯ `-2^7 ~ 2^7-1`**\n- **shortï¼š2å­—èŠ‚ï¼ˆ16ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´æ˜¯ `-2^15 ~ 2^15-1`**\n- **intï¼š4å­—èŠ‚ï¼ˆ32ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´æ˜¯ `-2^31 ~ 2^31-1`**\n- **longï¼š8å­—èŠ‚ï¼ˆ64ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´æ˜¯ `-2^63 ~ 2^63-1`**\n- **floatï¼š4å­—èŠ‚ï¼ˆ32ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´å¤§çº¦æ˜¯ `-3.4*10^38 ~ 3.4*10^38`**\n- **doubleï¼š8å­—èŠ‚ï¼ˆ64ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´å¤§çº¦æ˜¯ `-1.8*10^308 ~ 1.8*10^308`**\n- **charï¼š2å­—èŠ‚ï¼ˆ16ä½ï¼‰ï¼Œæ•°æ®èŒƒå›´æ˜¯ `\\u0000 ~ \\uffff`**\n- **booleanï¼šJavaè§„èŒƒæ²¡æœ‰æ˜ç¡®çš„è§„å®šï¼Œä¸åŒçš„JVMæœ‰ä¸åŒçš„å®ç°æœºåˆ¶ã€‚**\n\nå¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½ éœ€è¦äº†è§£JVMçš„å†…å­˜åˆ†å¸ƒæƒ…å†µï¼ŒçŸ¥é“å¼•ç”¨ä»¥åŠå¼•ç”¨å¯¹è±¡å­˜æ”¾çš„ä½ç½®ï¼Œè¯¦è§JVMéƒ¨åˆ†çš„é¢˜ç›®ã€‚\n\n#### intå’ŒIntegeræœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒäºŒè€…åœ¨åš==è¿ç®—æ—¶ä¼šå¾—åˆ°ä»€ä¹ˆç»“æœ\n\nintæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒIntegeræ˜¯intçš„åŒ…è£…ç±»ã€‚äºŒè€…åœ¨åš==è¿ç®—æ—¶ï¼ŒIntegerä¼šè‡ªåŠ¨æ‹†ç®±ä¸ºintç±»å‹ï¼Œç„¶åå†è¿›è¡Œæ¯”è¾ƒã€‚å±Šæ—¶ï¼Œå¦‚æœä¸¤ä¸ªintå€¼ç›¸ç­‰åˆ™è¿”å›trueï¼Œå¦åˆ™å°±è¿”å›falseã€‚\n\n\n\n\n\n### å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«\n\nJavaä¸­çš„å˜é‡åˆ†ä¸ºæˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡ï¼Œå®ƒä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š\n\næˆå‘˜å˜é‡ï¼š\n\n1. æˆå‘˜å˜é‡æ˜¯åœ¨ç±»çš„èŒƒå›´é‡Œå®šä¹‰çš„å˜é‡ï¼›\n2. æˆå‘˜å˜é‡æœ‰é»˜è®¤åˆå§‹å€¼ï¼›\n3. æœªè¢«staticä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå«å®ä¾‹å˜é‡ï¼Œå®ƒå­˜å‚¨äºå¯¹è±¡æ‰€åœ¨çš„å †å†…å­˜ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸä¸å¯¹è±¡ç›¸åŒï¼›\n4. è¢«staticä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå«ç±»å˜é‡ï¼Œå®ƒå­˜å‚¨äºæ–¹æ³•åŒºä¸­ï¼Œç”Ÿå‘½å‘¨æœŸä¸å½“å‰ç±»ç›¸åŒã€‚\n\nå±€éƒ¨å˜é‡ï¼š\n\n1. å±€éƒ¨å˜é‡æ˜¯åœ¨æ–¹æ³•é‡Œå®šä¹‰çš„å˜é‡ï¼›\n2. å±€éƒ¨å˜é‡æ²¡æœ‰é»˜è®¤åˆå§‹å€¼ï¼›\n3. å±€éƒ¨å˜é‡å­˜å‚¨äºæ ˆå†…å­˜ä¸­ï¼Œä½œç”¨çš„èŒƒå›´ç»“æŸï¼Œå˜é‡ç©ºé—´ä¼šè‡ªåŠ¨çš„é‡Šæ”¾ã€‚\n\n**æ³¨æ„äº‹é¡¹**\n\nJavaä¸­æ²¡æœ‰çœŸæ­£çš„å…¨å±€å˜é‡ï¼Œé¢è¯•å®˜åº”è¯¥æ˜¯å‡ºäºå…¶ä»–è¯­è¨€çš„ä¹ æƒ¯è¯´å…¨å±€å˜é‡çš„ï¼Œä»–çš„æœ¬æ„åº”è¯¥æ˜¯æŒ‡æˆå‘˜å˜é‡ã€‚\n\n\n\n### é¢å‘å¯¹è±¡çš„ç†è§£\n\né¢å‘å¯¹è±¡æ˜¯ä¸€ç§æ›´ä¼˜ç§€çš„ç¨‹åºè®¾è®¡æ–¹æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ä½¿ç”¨ç±»ã€å¯¹è±¡ã€ç»§æ‰¿ã€å°è£…ã€æ¶ˆæ¯ç­‰åŸºæœ¬æ¦‚å¿µè¿›è¡Œç¨‹åºè®¾è®¡ã€‚å®ƒä»ç°å®ä¸–ç•Œä¸­å®¢è§‚å­˜åœ¨çš„äº‹ç‰©å‡ºå‘æ¥æ„é€ è½¯ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨ç³»ç»Ÿæ„é€ ä¸­å°½å¯èƒ½è¿ç”¨äººç±»çš„è‡ªç„¶æ€ç»´æ–¹å¼ï¼Œå¼ºè°ƒç›´æ¥ä»¥ç°å®ä¸–ç•Œä¸­çš„äº‹ç‰©ä¸ºä¸­å¿ƒæ¥æ€è€ƒï¼Œè®¤è¯†é—®é¢˜ï¼Œå¹¶æ ¹æ®è¿™äº›äº‹ç‰©çš„æœ¬è´¨ç‰¹ç‚¹ï¼ŒæŠŠå®ƒä»¬æŠ½è±¡åœ°è¡¨ç¤ºä¸ºç³»ç»Ÿä¸­çš„ç±»ï¼Œä½œä¸ºç³»ç»Ÿçš„åŸºæœ¬æ„æˆå•å…ƒï¼Œè¿™ä½¿å¾—è½¯ä»¶ç³»ç»Ÿçš„ç»„ä»¶å¯ä»¥ç›´æ¥æ˜ åƒåˆ°å®¢è§‚ä¸–ç•Œï¼Œå¹¶ä¿æŒå®¢è§‚ä¸–ç•Œä¸­äº‹ç‰©åŠå…¶ç›¸äº’å…³ç³»çš„æœ¬æ¥é¢è²Œã€‚\n\n**æ‰©å±•é˜…è¯»**\n\nç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•ä¸»å¼ æŒ‰åŠŸèƒ½æ¥åˆ†æç³»ç»Ÿéœ€æ±‚ï¼Œå…¶ä¸»è¦åŸåˆ™å¯æ¦‚æ‹¬ä¸ºè‡ªé¡¶å‘ä¸‹ã€é€æ­¥æ±‚ç²¾ã€æ¨¡å—åŒ–ç­‰ã€‚ç»“æ„åŒ–ç¨‹åºè®¾è®¡é¦–å…ˆé‡‡ç”¨ç»“æ„åŒ–åˆ†ææ–¹æ³•å¯¹ç³»ç»Ÿè¿›è¡Œéœ€æ±‚åˆ†æï¼Œç„¶åä½¿ç”¨ç»“æ„åŒ–è®¾è®¡æ–¹æ³•å¯¹ç³»ç»Ÿè¿›è¡Œæ¦‚è¦è®¾è®¡ã€è¯¦ç»†è®¾è®¡ï¼Œæœ€åé‡‡ç”¨ç»“æ„åŒ–ç¼–ç¨‹æ–¹æ³•æ¥å®ç°ç³»ç»Ÿã€‚\n\nå› ä¸ºç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•ä¸»å¼ æŒ‰åŠŸèƒ½æŠŠè½¯ä»¶ç³»ç»Ÿé€æ­¥ç»†åˆ†ï¼Œå› æ­¤è¿™ç§æ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºé¢å‘åŠŸèƒ½çš„ç¨‹åºè®¾è®¡æ–¹æ³•ï¼›ç»“æ„åŒ–ç¨‹åºè®¾è®¡çš„æ¯ä¸ªåŠŸèƒ½éƒ½è´Ÿè´£å¯¹æ•°æ®è¿›è¡Œä¸€æ¬¡å¤„ç†ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½æ¥å—ä¸€äº›æ•°æ®ï¼Œå¤„ç†å®Œåè¾“å‡ºä¸€äº›æ•°æ®ï¼Œè¿™ç§å¤„ç†æ–¹å¼ä¹Ÿè¢«ç§°ä¸ºé¢å‘æ•°æ®æµçš„å¤„ç†æ–¹å¼ã€‚\n\nç»“æ„åŒ–ç¨‹åºè®¾è®¡é‡Œæœ€å°çš„ç¨‹åºå•å…ƒæ˜¯å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½è´Ÿè´£å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨ä»¥æ¥æ”¶ä¸€äº›è¾“å…¥æ•°æ®ï¼Œå‡½æ•°å¯¹è¿™äº›è¾“å…¥æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå¤„ç†ç»“æŸåè¾“å‡ºä¸€äº›æ•°æ®ã€‚æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿç”±ä¸€ä¸ªä¸ªå‡½æ•°ç»„æˆï¼Œå…¶ä¸­ä½œä¸ºç¨‹åºå…¥å£çš„å‡½æ•°è¢«ç§°ä¸ºä¸»å‡½æ•°ï¼Œä¸»å‡½æ•°ä¾æ¬¡è°ƒç”¨å…¶ä»–æ™®é€šå‡½æ•°ï¼Œæ™®é€šå‡½æ•°ä¹‹é—´ä¾æ¬¡è°ƒç”¨ï¼Œä»è€Œå®Œæˆæ•´ä¸ªè½¯ä»¶ç³»ç»Ÿçš„åŠŸèƒ½ã€‚\n\næ¯ä¸ªå‡½æ•°éƒ½æ˜¯å…·æœ‰è¾“å…¥ã€è¾“å‡ºçš„å­ç³»ç»Ÿï¼Œå‡½æ•°çš„è¾“å…¥æ•°æ®åŒ…æ‹¬å‡½æ•°å½¢å‚ã€å…¨å±€å˜é‡å’Œå¸¸é‡ç­‰ï¼Œå‡½æ•°çš„è¾“å‡ºæ•°æ®åŒ…æ‹¬å‡½æ•°è¿”å›å€¼ä»¥åŠä¼ å‡ºå‚æ•°ç­‰ã€‚ç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹å¼æœ‰å¦‚ä¸‹ä¸¤ä¸ªå±€é™æ€§ï¼š\n\n- è®¾è®¡ä¸å¤Ÿç›´è§‚ï¼Œä¸äººç±»ä¹ æƒ¯æ€ç»´ä¸ä¸€è‡´ã€‚é‡‡ç”¨ç»“æ„åŒ–ç¨‹åºåˆ†æã€è®¾è®¡æ—¶ï¼Œå¼€å‘è€…éœ€è¦å°†å®¢è§‚ä¸–ç•Œæ¨¡å‹åˆ†è§£æˆä¸€ä¸ªä¸ªåŠŸèƒ½ï¼Œæ¯ä¸ªåŠŸèƒ½ç”¨ä»¥å®Œæˆä¸€å®šçš„æ•°æ®å¤„ç†ã€‚\n- é€‚åº”æ€§å·®ï¼Œå¯æ‰©å±•æ€§ä¸å¼ºã€‚ç”±äºç»“æ„åŒ–è®¾è®¡é‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„è®¾è®¡æ–¹å¼ï¼Œæ‰€ä»¥å½“ç”¨æˆ·çš„éœ€æ±‚å‘ç”Ÿæ”¹å˜ï¼Œæˆ–éœ€è¦ä¿®æ”¹ç°æœ‰çš„å®ç°æ–¹å¼æ—¶ï¼Œéƒ½éœ€è¦è‡ªé¡¶å‘ä¸‹åœ°ä¿®æ”¹æ¨¡å—ç»“æ„ï¼Œè¿™ç§æ–¹å¼çš„ç»´æŠ¤æˆæœ¬ç›¸å½“é«˜\n\n#### é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾\n\né¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æ–¹æ³•å…·æœ‰ä¸‰ä¸ªåŸºæœ¬ç‰¹å¾ï¼š**å°è£…ã€ç»§æ‰¿ã€å¤šæ€**ã€‚\n\nå°è£…æŒ‡çš„æ˜¯å°†å¯¹è±¡çš„å®ç°ç»†èŠ‚éšè—èµ·æ¥ï¼Œç„¶åé€šè¿‡ä¸€äº›å…¬ç”¨æ–¹æ³•æ¥æš´éœ²è¯¥å¯¹è±¡çš„åŠŸèƒ½ï¼›\n\nç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡å®ç°è½¯ä»¶å¤ç”¨çš„é‡è¦æ‰‹æ®µï¼Œå½“å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå­ç±»ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»ï¼Œå°†ç›´æ¥è·å¾—çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼›\n\nå¤šæ€æŒ‡çš„æ˜¯å­ç±»å¯¹è±¡å¯ä»¥ç›´æ¥èµ‹ç»™çˆ¶ç±»å˜é‡ï¼Œä½†è¿è¡Œæ—¶ä¾ç„¶è¡¨ç°å‡ºå­ç±»çš„è¡Œä¸ºç‰¹å¾ï¼Œè¿™æ„å‘³ç€åŒä¸€ä¸ªç±»å‹çš„å¯¹è±¡åœ¨æ‰§è¡ŒåŒä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå¯èƒ½è¡¨ç°å‡ºå¤šç§è¡Œä¸ºç‰¹å¾ã€‚\n\n","tags":["Java"],"categories":["è¯­è¨€åŸºç¡€"]},{"title":"myBatisé…ç½®","url":"/2021/03/09/myBatisé…ç½®/","content":"\nç®€å•è®°å½•ä¸€ä¸‹Mybatisé…ç½®\n<!--more--> \n\nå·¥ç¨‹æ•´ä½“ç›®å½•\n\n![image-20210309112754802](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210309112754802.png)\n\n### å¯¼å…¥MavenåŒ…\n\n```xml\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>8.0.23</version>\n</dependency>\n\n<dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis</artifactId>\n    <version>3.5.6</version>\n</dependency>\n```\n\n\n\n### é…ç½®myBatis\n\nåœ¨resouresç›®å½•ä¸‹ï¼Œæ–°å»ºmybatisçš„é…ç½®æ–‡ä»¶ ä¾‹å¦‚myBatisConfig.xml\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <environments default=\"development\">\n        <environment id=\"development\">\n            <transactionManager type=\"JDBC\"/>\n            <dataSource type=\"POOLED\">\n                <property name=\"driver\" value=\"com.mysql.cj.jdbc.Driver\"/>\n                <property name=\"url\" value=\"jdbc:mysql://81.70.192.71:3306/db\"/>\n                <property name=\"username\" value=\"root\"/>\n                <property name=\"password\" value=\"123zhou\"/>\n            </dataSource>\n        </environment>\n    </environments>\n    <mappers>\n        <mapper resource=\"com/cloud/dao/userMapper.xml\"/>   \n    </mappers>\n</configuration>\n```\n\n\n\n![image-20210309111727795](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210309111727795.png)\n\n\n\n#### é…ç½®æ¥å£åˆ›å»ºé…ç½®æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"com.cloud.dao.userDao\">\n    <select id=\"getUserList\" resultType=\"com.cloud.pojo.User\">\n        select * from student\n    </select>\n</mapper>\n```\n\n![image-20210309112245593](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210309112245593.png)\n\n\n\n#### åˆ›å»ºå·¥å…·é…ç½®ç±»\n\nmyBatisConfig.java\n\n```java\npackage com.cloud.utils;\n\nimport org.apache.ibatis.io.Resources;\nimport org.apache.ibatis.session.SqlSession;\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.apache.ibatis.session.SqlSessionFactoryBuilder;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class mybatisConfig {\n    private static SqlSessionFactory sqlSessionFactory;\n    static {\n        try {\n            String resource = \"mybatisConfig.xml\"; //åŠ è½½é…ç½®æ–‡ä»¶\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    // è·å–ä¼šè¯\n    public static SqlSession getSqlsession(){\n        SqlSession sqlSession=sqlSessionFactory.openSession();\n        return  sqlSession;\n    }\n\n}\n```\n\n\n\n#### æµ‹è¯•\n\nä½¿ç”¨junitæµ‹è¯•\n\n```java\npublic class UserDaoTest {\n\n    @Test\n    public void test01(){\n        SqlSession sqlSession= mybatisConfig.getSqlsession();\n        userDao userdao= sqlSession.getMapper(userDao.class);\n\n        List<User> result=userdao.getUserList();\n        for(User user:result){\n            System.out.println(user);\n        }\n        sqlSession.close();\n    }\n}\n```\n\n\n\nå¯èƒ½ä¼šæŠ¥é”™ï¼Œé€šå¸¸æ˜¯æ‰¾ä¸åˆ°èµ„æºæ–‡ä»¶\n\néœ€è¦åœ¨pom.xmlæ–‡ä»¶ä¸­,æ·»åŠ ä»¥ä¸‹å†…å®¹\n\n```xml\n    <build>\n        <resources>\n            <resource>\n                <directory>src/main/java</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n                <filtering>false</filtering>\n            </resource>\n            <resource>\n                <directory>src/main/resources</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n                <filtering>false</filtering>\n            </resource>\n        </resources>\n    </build>\n```\n\n\n\n\n\n#### æ•´åˆSpring boot\n\n![image-20210309141607561](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210309141607561.png)\n\n\n\n\n\nå¯¹äºSpringBootçš„application.properties\n\n##### é…ç½®springbootçš„æ•°æ®æº\n\n\n\n```properties\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://81.70.192.71:3306/db\nspring.datasource.username=root\nspring.datasource.password=123zhou\nspring.datasource.type=com.alibaba.druid.pool.DruidDataSource\n\nmybatis.mapper-locations=classpath:mybatis/*.xml\n```\n\n![image-20210309160830629](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210309160830629.png)\n\n\n\nå†resourceç›®å½•ä¸‹åˆ›å»ºmybatisçš„é…ç½®ï¼ˆæ˜ å°„ï¼‰æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"com.cloud.mapper.UserMapper\">\n    <select id=\"getUser\" resultType=\"com.cloud.pojo.User\">\n        select * from student\n    </select>\n</mapper>\n```\n\n","tags":["Mybatis"],"categories":["å·¥å…·é…ç½®"]},{"title":"åˆ·é¢˜ç›¸å…³","url":"/2021/02/20/åˆ·é¢˜ç›¸å…³/","content":"\n**è®°å½•ä¸€ä¸‹åˆ·é¢˜çŸ¥è¯†**\n\nå…¶å®ä¹ŸçŸ¥é“ç¨‹åº=ç®—æ³•+æ•°æ®ç»“æ„ï¼Œä½†å°±æ˜¯ç¼ºä¹æ’å¿ƒç»ƒä¸‹å»ï¼Œèµ°ä¸€æ­¥çœ‹ä¸€æ­¥\n\n<!--more--> \n\n### æ•°å­¦\n\n#### æœ€å¤§å…¬çº¦æ•°\n\n```c++\nint a,b;\ncin>>a>>b;\nwhile(b!=0){\n    int tmp=a%b;\n    a=b;\n    b=tmp;\n}\ncout<<a;\n```\n\n\n\n### å­—ç¬¦ä¸²\n\n```c++\n#include<string>\n\n// å¸¸ç”¨api\nstring s;\ns.size();/s.length()  // è¿”å›å¤§å°\ns.substr(i,j)  // ä»iå¼€å§‹é•¿åº¦ä¸ºjçš„å­—ç¬¦ä¸²\n\n\n```\n\n\n\n### ä½è¿ç®—\n\n#### ç§»ä½\n\n```c++\na = 01111011;     // å¾ªç¯å·¦ç§»2ä½çš„æ­£ç¡®ç»“æœæ˜¯ï¼š b=11101101\nb = a >> (8 - 2); //ç”¨æ¥å¾—åˆ°æ­£å¸¸å·¦ç§»ä¸¢å¤±çš„ä½å’Œå¾ªç¯ç§»ä½åå…¶æ­£ç¡®ä½ç½®ã€€ã€€//b=00000001ï¼›\na = a << 2;ã€€ã€€    //a = 11101100\na = a | b;ã€€ã€€     //a = 11101101\n\nå¦‚æœä¸æ˜¯ç”¨ä¸­é—´å˜é‡ a=ï¼ˆa>>ï¼ˆ8-2ï¼‰ï¼‰|ï¼ˆa<<2ï¼‰\n    \né€šç”¨ï¼š\næ€»é•¿åº¦Nï¼ˆ8 16 32ï¼‰\nå¾ªç¯å·¦ç§»n (a >> (N - n)) | (a >> n)\nå¾ªç¯å³ç§»n (a << (N - n)) | (a >> n)\n```\n\n\n\n \n\n### æŸ¥æ‰¾\n\n```c++\nint my_search(int arr[],int n,int k){\n    for(int i=0;i<n;i++){\n        if(arr[i]==k) return i;\n    }\n    return -1;  \n}\n```\n\n","tags":["æŠ€å·§"],"categories":["ç®—æ³•"]},{"title":"æ ‘è“æ´¾éŸ³é¢‘åŠ©æ‰‹","url":"/2021/02/18/æ ‘è“æ´¾éŸ³é¢‘åŠ©æ‰‹/","content":"\n**ç®€å•è®°å½•ä¸€ä¸‹é…ç½®æ ‘è“æ´¾è¯­éŸ³åŠ©æ‰‹**\n\n<!--more--> \n\n### å½•éŸ³é…ç½®\n\n[å‚è€ƒé“¾æ¥](https://blog.csdn.net/toopoo/article/details/109408978)\n\n#### å®‰è£…soxåŠå…¶mp3åº“\n\n```shell\nsudo apt-get install sox libsox-fmt-mp3\n```\n\nå¦‚æœéœ€è¦æ”¯æŒæ‰€æœ‰å¯ç”¨éŸ³é¢‘æ ¼å¼é‚£ä¹ˆåº”è¯¥è¿™æ ·å®‰è£…:\n\n```shell\nsudo apt-get install libsox-fmt-all\n```\n\n#### å½•éŸ³å’Œæ’­æ”¾\n\nå¦‚æœUSBå£°å¡å·²ç»è®¾ç½®ä¸ºé»˜è®¤å£°å¡ï¼Œé‚£ä¹ˆæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯\n\n```shell\nrec test.mp3\nplay test.mp3\n```\n\nä¹Ÿå¯ä»¥æŒ‡å®šå½•éŸ³å’Œæ’­æ”¾è®¾å¤‡ï¼š\n\n```shell\nsox -t alsa plughw:1,0 test.mp3\n```\n\n`plughw:1,0`æ˜¯USBå£°å¡è®¾å¤‡ç¼–å·ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹\n\n```shell\narecord -l\n#æˆ–è€…\naplay -l\n#æˆ–è€…\ncat /proc/asound/cards\n```\n\nä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹pythonè„šæœ¬è·å–\n\n```python\nimport pyaudio\np = pyaudio.PyAudio()\nfor ii in range(p.get_device_count()):\n\tprint(p.get_device_info_by_index(ii).get('name'))\n```\n\n##### å°†ç¼–å·ä¸º1çš„USBå£°å¡è®¾ç½®ä¸ºé»˜è®¤çš„æ–¹æ³•(Pi 4Bæµ‹è¯•é€šè¿‡)\n\n- æ–¹æ³•1\n  ç¼–è¾‘`~/.asoundrc`\n  è¾“å…¥ä»¥ä¸‹å†…å®¹\n\n```shell\ndefaults.ctl.card 1\ndefaults.pcm.card 1\n```\n\n- æ–¹æ³•2\n  åœ¨user profileä¸­åŠ å…¥\n\n```shell\nexport AUDIODEV=hw:1,0\n```\n\n> Note:æˆ‘æ²¡ç”¨è¿™ä¸ªæ–¹æ³•soxä¹Ÿé»˜è®¤ä½¿ç”¨äº†USBå£°å¡ä½œä¸ºå½•éŸ³å’Œå›æ”¾è®¾å¤‡,å¯èƒ½ä¸æˆ‘å®‰è£…äº†pulseaudioæœ‰å…³ã€‚å¸è½½pulseaudioä¹‹åå°±éœ€è¦æŒ‡å®šUSBå£°å¡äº†ã€‚\n\n##### æµ‹è¯•å£°å¡(ç¼–å·1)ï¼š\n\n```shell\nspeaker-test -D plughw:1 -c2 -t wav\n```\n\n##### å½•åˆ¶å›ºå®šé•¿åº¦çš„éŸ³é¢‘ç‰‡æ®µï¼ˆå¦‚ 30 åˆ†é’Ÿï¼‰å¹¶ä¿å­˜åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ï¼š\n\n```shell\nsox -t alsa plughw:1 myrec.wav trim 0 00:30:00\n```\n\n##### æŒç»­å½•åˆ¶å¾ˆé•¿æ—¶é—´çš„éŸ³é¢‘ï¼Œä¿å­˜åœ¨å‡ ä¸ªä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œæ¯éš”ä¸€å°æ—¶ä¿å­˜ä¸€æ¬¡ï¼š\n\n```shell\nsox -t alsa plughw:1 myrec.wav trim 0 01:00:00 : newfile : restart\n```\n\n##### ä½¿ç”¨arecordæŒ‡å®šè®¾å¤‡(-D plughw:1,0)åŒå£°é“å½•éŸ³(-c 2)å¹¶æŒ‡å®šé•¿åº¦(-d 5)å’Œé‡‡æ ·ç‡(-r 44100)\n\n```shell\narecord -D plughw:1,0 -d 5 -c 2 -r 44100 -f s16_LE helloworld.wav\n```\n\nå¦‚æœsoxæˆ–è€…recå‘½ä»¤è¿è¡Œæ—¶é‡åˆ°å¦‚ä¸‹æç¤ºï¼š\n\n```shell\nrec WARN alsa: can't encode 0-bit Unknown or not applicable\n```\n\nå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤è§£å†³:\n\n```shell\nexport AUDIODRIVER=alsa\n```\n\n\n### è¯­éŸ³å”¤é†’\n\n#### snowboy è¯­éŸ³å”¤é†’\n\n[snowboyå”¤é†’è¯åˆ¶ä½œ](https://github.com/seasalt-ai/snowboy)\n\n####  New: build your own personal models (Ubuntu 16.04 and macOS)\n\n- Install dependencies\n\n```shell\nvirtualenv -p python2 venv/snowboy\nsource venv/snowboy/bin/activate\ncd examples/Python\npip install -r requirements.txt\n```\n\nä»£ç ç»è¿‡æˆ‘çš„é­”æ”¹å\n\n![image-20210218215330306](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210218215330306.png)\n\n![image-20210218215434563](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210218215434563.png)\n\n\n\n- Try the trained personal model\n\n```shell\npython demo.py hotword.pmdl\n```\n\n\n\n### è¯­éŸ³åŠ©æ‰‹\n\n[å‚è€ƒé“¾æ¥](https://www.passerma.com/article/54)\n\n\n\n![image-20210218215657605](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210218215657605.png)","categories":["å·¥å…·é…ç½®"]},{"title":"ç›´æ’­æŠ€æœ¯ç›¸å…³","url":"/2021/02/18/ç›´æ’­æŠ€æœ¯ç›¸å…³/","content":"\n\n\n**è®°å½•ä¸€ä¸‹è§†é¢‘ç›´æ’­å¤šç«¯å®ç°**\n\n<!--more--> \n\n### æ ‘è“æ´¾æ¨æµ\n\næ ‘è“æ´¾æ¨æµæ–¹å¼\n\n##### 1.ä½¿ç”¨è‡ªå¸¦çš„raspivid\n\n```shell\nsudo raspivid -o - -t 0 -n -w 640 -h 360 -t 0 -a 12 -a 1024 -a \"PiCam %Y-%m-%d %X\" -fps 25|ffmpeg -i - -vcodec copy -an -f flv rtmp://81.70.192.71/dash/video\n```\n\n##### 2.Python è„šæœ¬æ¨æµ\n\n```python\nimport subprocess as sp\nimport cv2\nrtmpUrl = \"rtmp://81.70.192.71:1935/dash/video\"\n\ncap = cv2.VideoCapture(0)\n\n# Get video information\nfps = int(cap.get(cv2.CAP_PROP_FPS))\nwidth = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))\nheight = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))\n\n# ffmpeg command\ncommand = ['ffmpeg',\n        '-y',\n        '-f', 'rawvideo',\n        '-vcodec','rawvideo',\n        '-pix_fmt', 'bgr24',\n        '-s', \"{}x{}\".format(width, height),\n        '-r', str(fps),\n        '-i', '-',\n        '-c:v', 'libx264',\n        '-pix_fmt', 'yuv420p',\n        '-preset', 'ultrafast',\n        '-f', 'flv', \n        rtmpUrl]\n\n# ç®¡é“é…ç½®\np = sp.Popen(command, stdin=sp.PIPE)\n        \n# read webcamera\nwhile(cap.isOpened()):\n    ret, frame = cap.read()\n    if not ret:\n        print(\"Opening camera is failed\")\n        break\n\n    p.stdin.write(frame.tobytes())\n```\n### æœåŠ¡å™¨ç«¯é…ç½®\n\næœåŠ¡å™¨ç«¯ä¸»è¦é…ç½®\n\n#### ç¼–è¯‘å®‰è£…nginxå’Œnginx-rtmpæ¨¡å—\n\n```shell\ngit clone https://github.com/arut/nginx-rtmp-module.gitcd nginx-1.18.0/\ncd nginx-1.18.0/\nsudo ./configure --with-http_ssl_module --add-module=../nginx-rtmp-module\nsudo make \nsudo make install\n```\n\n#### nginxç›¸å…³æ“ä½œ\n\n```shell\nsudo cp objs/nginx /usr/local/nginx/sbin/nginx # æ¶‰åŠåˆ°æ·»åŠ æ¨¡å—å¦‚nginxé…ç½®sslè¯ä¹¦\nsudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\nsudo cp /usr/local/nginx/sbin/nginx /usr/local/bin/ #æŠŠnginxåŠ å…¥åˆ°ç¯å¢ƒå˜é‡é‡Œ\nnginx            #ç¬¬ä¸€æ¬¡å¯åŠ¨\nnginx -t        #æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®\nnginx -s reload  #å¹³æ»‘é‡å¯ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œä¸æ–­æœåŠ¡é‡å¯\nnginx -s stop    #åœæ­¢æœåŠ¡\n```\n\n\n\n#### é…ç½®nginx.conf\n\n```nginx\n#user  nobody;\nworker_processes  1;\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n    #                  '$status $body_bytes_sent \"$http_referer\" '\n    #                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n    server {\n        #SSL è®¿é—®ç«¯å£å·ä¸º 443\n        listen 443 ssl; \n    #å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå\n        server_name hahayun.top; \n    #è¯ä¹¦æ–‡ä»¶åç§°\n        ssl_certificate 1_hahayun.top_bundle.crt; \n    #ç§é’¥æ–‡ä»¶åç§°\n        ssl_certificate_key 2_hahayun.top.key; \n        ssl_session_timeout 5m;\n    #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½®\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; \n    #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚\n        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; \n        ssl_prefer_server_ciphers on;\n        location / {\n        #ç½‘ç«™ä¸»é¡µè·¯å¾„ã€‚æ­¤è·¯å¾„ä»…ä¾›å‚è€ƒï¼Œå…·ä½“è¯·æ‚¨æŒ‰ç…§å®é™…ç›®å½•æ“ä½œã€‚\n            root html; \n            index  index.html index.htm;\n        }\n    }\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n        #access_log  logs/host.access.log  main;\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n        #error_page  404              /404.html;\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n        \n        location /hls {\n            add_header Access-Control-Allow-Origin *;\n            types {\n                application/x-mpegURL;\n                video/mp2t ts;\n                }\n                root /usr/local/nginx/html/;\n                add_header Cache-Control no-cache;\n        }\n        location /dash {\n            add_header Access-Control-Allow-Origin *; #è·¨åŸŸé…ç½®\n            # Serve DASH fragments\n            root /usr/local/nginx/html/;\n            add_header Cache-Control no-cache;\n        }\n    \n\n        location /stat {\n            rtmp_stat all;\n            rtmp_stat_stylesheet stat.xsl;\n        }\n\n        location /stat.xsl {\n            root /usr/local/extend_module/nginx-rtmp-module/;\n        }\n    }\n\n}\n    # another virtual host using mix of IP-, name-, and port-based configuration\n    #\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n    # HTTPS server\n\nrtmp {\n    server {\n    listen 1935;\n    chunk_size 4000;\n    # hlsé…ç½®    \n    # application live {\n    #     live on;\n    #     hls on;\n    #     hls_path /usr/local/nginx/html/hls;\n    #  }\n    # }\n    \n    # dashé…ç½®    \n    application dash {\n        live on;\n        dash on;\n        dash_path /usr/local/nginx/html/dash;\n        dash_playlist_length 10s;\n        dash_fragment 3s;   \n    }\n }\n}\n```\n\n### webç«¯æ‹‰æµ\n\n#### é‡‡ç”¨nodejsæ­å»ºwebæœåŠ¡\n\n```javascript\nconst express = require('express');\nconst app=express()\nconst http=require('http').createServer(app);\nconst io=require('socket.io')(http)\nconst port = 3000\napp.use(\"/static\", express.static('static/'));\napp.get('/', (req, res) => {\n  res.sendFile(__dirname+'/static/index.html');\n  \n})\napp.get('/camera', (req, res) => {\n  res.sendFile(__dirname + '/static/camera.html');\n  })\n  \nio.on('connection',(socket)=>{\n  console.log('a user connected:'+socket.id);\n  socket.on('chat message', (msg) => {\n    console.log('message: ' + msg);\n  });\n\n})\n\nhttp.listen(port, () => {\n  console.log(`Example app listening at http://localhost:${port}`)\n})\n```\n\n\n\n#### æ‹‰å–hlsæµæ’­æ”¾\n\nåœ¨ç½‘é¡µbodyå¡«å…¥\n\n```html\n <video-js id=\"my_video_1\" class=\"vjs-default-skin\" controls preload=\"auto\" width=\"640\" height=\"268\">\n    <source src=\"http://81.70.192.71/hls/video.m3u8\" type=\"application/x-mpegURL\">\n  </video-js>\n  \n  <script src=\"https://unpkg.com/video.js/dist/video.js\"></script>\n  <script src=\"https://unpkg.com/@videojs/http-streaming/dist/videojs-http-streaming.js\"></script>\n  \n  <script>\n    var player = videojs('my_video_1');\n  </script>\n  \n```\n\n#### æ‹‰å–dashæµæ’­æ”¾\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=utf-8 />\n<title>videojs-contrib-hls embed</title>\n  \n  <!--\n\n  Uses the latest versions of video.js and videojs-http-streaming.\n\n  To use specific versions, please change the URLs to the form:\n\n  <link href=\"https://unpkg.com/video.js@6.7.1/dist/video-js.css\" rel=\"stylesheet\">\n  <script src=\"https://unpkg.com/video.js@6.7.1/dist/video.js\"></script>\n  <script src=\"https://unpkg.com/@videojs/http-streaming@0.9.0/dist/videojs-http-streaming.js\"></script>\n\n  -->\n\n  <link href=\"https://unpkg.com/video.js/dist/video-js.css\" rel=\"stylesheet\">\n</head>\n<body>\n  <h1>Camera Capture</h1>\n\n  <video id=example-video width=600 height=300 class=\"video-js vjs-default-skin\" controls></video>\n  <script src=\"https://cdn.bootcdn.net/ajax/libs/video.js/7.10.1/alt/video.core.min.js\"></script>\n\n  \n  <!-- Dash.js -->\n  <script src=\"https://cdn.bootcdn.net/ajax/libs/dashjs/3.2.0/dash.all.min.js\"></script>\n  \n  <!-- videojs-contrib-dash script -->\n  <script src=\"https://cdn.bootcdn.net/ajax/libs/videojs-contrib-dash/3.0.0/videojs-dash.min.js\"></script>\n  \n  <script>\n  var player = videojs('example-video');\n  \n  player.ready(function() {\n    player.src({\n      src: 'http://81.70.192.71/dash/video.mpd',\n      type: 'application/dash+xml'\n    });\n  \n    player.play();\n  });\n  </script>\n  \n</body>\n</html>\n```\n\n\n\n### å®‰å“ç«¯æ’­æ”¾ç›´æ’­æµ\n\nå®‰å“ç«¯é‡‡ç”¨Exoplayeræ’­æ”¾æµåª’ä½“\n\n[Exoplayeræ–‡æ¡£](https://exoplayer.dev/hello-world.html)\n\n![image-20210218083542404](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/image-20210218083542404.png)\n\n```\n# å¼•å…¥åŒ…\nimplementation 'com.google.android.exoplayer:exoplayer:2.13.1'\n```\n\n**activity_main.xml**\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <com.google.android.exoplayer2.ui.PlayerView\n        android:id=\"@+id/video_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/>\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n\n\n**MainActivity**\n\n```java\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        PlayerView playerView=findViewById(R.id.video_view);\n        // Create a data source factory.\n        DataSource.Factory dataSourceFactory = new DefaultHttpDataSource.Factory();\n        // Create a DASH media source pointing to a DASH manifest uri.\n        MediaSource mediaSource =\n                new DashMediaSource.Factory(dataSourceFactory)\n                        .createMediaSource(MediaItem.fromUri(\"http://81.70.192.71/dash/video.mpd\"));\n        // Create a player instance.\n        SimpleExoPlayer player = new SimpleExoPlayer.Builder(this).build();\n        // Set the media source to be played.\n        playerView.setPlayer(player);\n        player.setPlayWhenReady(true);\n        player.setMediaSource(mediaSource);\n        // Prepare the player.\n        player.prepare();\n    }\n}\n```","tags":["å·¥å…·é…ç½®"]},{"title":"å¼€å‘ç¯å¢ƒå¸¸ç”¨é…ç½®","url":"/2021/02/01/å¼€å‘ç¯å¢ƒå¸¸ç”¨é…ç½®/","content":"\n### æ•´ç†ä¸€äº›å¸¸ç”¨ç¯å¢ƒé…ç½®\n\n<!--more--> \n\n### debian ç³» aptæ¢æº\n\n```shell\nsudo  vim /etc/apt/sources.list \n```\n\n### PiPå¿«é€Ÿæ¢æº\n\n```shell\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple/\n```\n\n### Nodejs æ¢æº\n\n```shell\nnpm config set registry https://registry.npm.taobao.org\n```\n\n\n\n","tags":["Python"],"categories":["å·¥å…·é…ç½®"]},{"title":"æ“ä½œç³»ç»Ÿå¤è¯•ç›¸å…³é—®é¢˜","url":"/2021/01/26/æ“ä½œç³»ç»Ÿå¤è¯•ç›¸å…³é—®é¢˜/","content":"\n\n\nå¯’å‡åœ¨å®¶ï¼Œæ•´ç†ä¸€äº›è€ƒç ”å¤è¯•ä¸­æœ‰å…³æ“ä½œç³»ç»Ÿçš„é—®é¢˜\n\nï¼ˆæ ¹æ®ç‹é“è®ºå›çš„èµ„æ–™æ•´ç†ï¼‰\n\n<!--more--> \n\n###  1.æ“ä½œç³»ç»Ÿçš„å‡ å¤§åŠŸèƒ½æ˜¯ä»€ä¹ˆ\n\næ“ä½œç³»ç»Ÿçš„åŠŸèƒ½åŒ…æ‹¬å¤„ç†å™¨ç®¡ç†ï¼Œå­˜å‚¨å™¨ç®¡ç†ï¼Œè®¾å¤‡ç®¡ç†ï¼Œâ½‚ä»¶ç®¡ç†ä»¥åŠå‘â½¤æˆ·æ ä¾›å‘½ä»¤æ¥â¼å’Œç¨‹åºæ¥â¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º\n\n![](https://cdn.jsdelivr.net/gh/zhouyuntao233/Picture_Bed/img/%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD.svg)\n\n### 2.ã€æ¦‚è¿°ã€‘ç¡¬å®æ—¶å’Œè½¯å®æ—¶çš„åŒºåˆ«\n\nã€è¿½é—®äº†ä¸‹ä½¿â½¤ä»€ä¹ˆè°ƒåº¦ç®—æ³•å¯ä»¥å®ç°ã€‘\n\nç¡¬å®æ—¶ç³»ç»Ÿæ˜¯æŸä¸ªåŠ¨ä½œå¿…é¡»ç»å¯¹åœ°åœ¨è§„å®šçš„æ—¶åˆ»å‘ç”Ÿï¼Œæ¯”å¦‚é£è¡Œå™¨çš„é£è¡Œè‡ªåŠ¨æ§åˆ¶ç³» ç»Ÿã€‚\n\nè½¯å®æ—¶ç³»ç»Ÿèƒ½æ¥å—å¶å°”è¿åæ—¶é—´è§„å®šä¸”ä¸ä¼šå¼•èµ·æ°¸ä¹…æ€§çš„æŸå®³ï¼Œæ¯”å¦‚é£æœºè®¢ç¥¨ç³»ç»Ÿã€‚\n\n### 3. ã€æ¦‚è¿°ã€‘ä¸­æ–­çš„å¤„ç†è¿‡ç¨‹\n\n#### a. ä¸­æ–­çš„ä½œç”¨ \n\nä¸­æ–­æ˜¯å¤šé“ç¨‹åºå¾—ä»¥å®ç°çš„åŸºç¡€ï¼Œè¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢æ˜¯é€šè¿‡ä¸­æ–­æ¥å®Œæˆçš„ã€‚æ­¤å¤–ï¼Œä¸ºäº†æé«˜å¤„ç†æœºçš„åˆ©ç”¨ç‡å’Œå®ç°CPUä¸I/Oè®¾å¤‡çš„å¹¶è¡Œæ‰§è¡Œï¼Œä¹Ÿå¿…é¡»è¦æœ‰ä¸­æ–­çš„æ”¯ æŒã€‚ \n\n#### b. ä¸­æ–­å’Œé™·å…¥ \n\nä¸­æ–­ï¼šåˆå«å¤–ä¸­æ–­ï¼Œæ˜¯æŒ‡CPUå¯¹I/Oè®¾å¤‡å‘æ¥çš„ä¸­æ–­ä¿¡å·çš„ä¸€ç§å“åº”ã€‚CPUä¿æŠ¤å¹¶ æš‚åœå½“å‰è¿›ç¨‹ï¼Œè½¬è€Œå»å¤„ç†å¼•å‘ä¸­æ–­çš„è¿›ç¨‹ã€‚æ‰§è¡Œå®Œåï¼Œå†è¿”å›åˆ°åŸè¿›ç¨‹ï¼Œç»§ç»­ æ‰§è¡Œã€‚I/Oè®¾å¤‡å¯ä»¥æ˜¯å­—ç¬¦è®¾ï¼ˆé”®ç›˜ï¼‰ï¼Œå—è®¾å¤‡ï¼ˆç£ç›˜ï¼‰æˆ–é€šä¿¡è®¾å¤‡ï¼ˆç½‘ç»œï¼‰ ç­‰ã€‚ \n\né™·å…¥ï¼šåˆå«å†…ä¸­æ–­ï¼Œé™·å…¥æ˜¯ç”±CPUè¿›ç¨‹å†…éƒ¨äº‹ä»¶å¼•å‘çš„ä¸­æ–­ã€‚å…¶äº§ç”Ÿçš„åŸå› å¾€å¾€ æ˜¯ç”±äºè¿›ç¨‹æœ¬èº«å‡ºç°è¿è¡Œæ—¶å¼‚å¸¸ã€‚ ä¸¤è€…çš„åŒºåˆ«ä»…ä»…æ˜¯ä¿¡å·çš„æ¥æºä¸åŒã€‚\n\n#### c. ä¸­æ–­å‘é‡è¡¨å’Œä¸­æ–­ä¼˜å…ˆçº§\n\nä¸­æ–­å‘é‡è¡¨ï¼šç”¨äºè®°å½•ç›¸åº”ä¸­æ–­å¤„ç†ç¨‹åºå…¥å£åœ°å€çš„æ˜ å°„è¡¨ã€‚è¡¨ä¸­æœ‰ä¸ºä¸­æ–­ç±»å‹ åˆ†é…çš„ä¸­æ–­å·å’Œç›¸å¯¹åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€ã€‚å½“ä¸­æ–­æ¥ä¸´æ—¶ï¼Œç”±ä¸­æ–­æ§åˆ¶ å™¨ç¡®å®šä¸­æ–­å·ï¼Œå†åˆ°è¡¨ä¸­å¯»æ‰¾ç¨‹åºã€‚ ä¸­æ–­ä¼˜å…ˆçº§ï¼šå¯¹äºå¹¶å‘çš„ä¸­æ–­è¯·æ±‚ï¼Œå¿…é¡»è¦ç»™å‡ºåˆç†çš„ä¸­æ–­é¡ºåºï¼Œæ¯”å¦‚é”®ç›˜ä¸­æ–­ å’Œç£ç›˜ä¸­æ–­è°æ›´é‡è¦ç­‰ï¼Œè¦ç»™å‡ºè§£å†³ä¸­æ–­çš„ä¼˜å…ˆçº§ã€‚ \n\n#### d. å¤šä¸­æ–­çš„å¤„ç†æ–¹å¼ \n\nè¯•æƒ³ä¸€ç§æƒ…å†µï¼šå½“å¤„ç†æœºæ­£åœ¨å¤„ç†é”®ç›˜å¼•èµ·çš„ä¸­ç«¯ï¼Œæ­¤æ—¶åˆæ”¶åˆ°äº†é«˜ä¼˜å…ˆçº§çš„ç£ ç›˜ä¸­æ–­ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ \n\n##### ç¡¬ä»¶ä¸­æ–­ä¸å¯å±è”½\n\ni. å±è”½ï¼ˆç¦æ­¢ï¼‰ä¸­æ–­ï¼šå¯¹äºæ–°æ¥çš„ä¸­æ–­ï¼Œåœ¨å½“å‰ä¸­æ–­æœªå®Œæˆä¹‹å‰ï¼Œå¯¹äºå…¶ä»–ä¸­æ–­ ä¸äºˆç†ç¬ï¼Œç›´åˆ°å½“å‰å¤„ç†å®Œã€‚é‡‡ç”¨å…ˆæ¥å…ˆæœåŠ¡çš„æ–¹å¼ã€‚ \n\nii. åµŒå¥—ä¸­æ–­ï¼šä¸­æ–­çš„ä¸­æ–­ã€‚ä¸­æ–­å¤„ç†ç¨‹åºä¹Ÿæ˜¯è¿›ç¨‹ï¼Œå½“æ›´é«˜ä¼˜å…ˆçº§çš„ä¸­æ–­å¤„ç†ç¨‹ åºåˆ°æ¥æ—¶ï¼Œå¯ä»¥å‰¥å¤ºå½“å‰ä¸­æ–­å¤„ç†è¿›ç¨‹çš„å¤„ç†æœºï¼ŒåŠä¸­æ–­çš„ä¸­æ–­ã€‚æ­¤ç§æƒ…å†µ ä¸‹ï¼ŒCPUæ€»æ˜¯ä¼˜å…ˆå“åº”æ›´é«˜ä¼˜å…ˆçº§çš„ä¸­æ–­è¯·æ±‚ã€‚ \n\n#### e. ä¸­æ–­å¤„ç†ç¨‹åºçš„å¤„ç†è¿‡ç¨‹ \n\nä¸å¯å±è”½ä¸­æ–­ï¼šä¸­æ–­éšæŒ‡ä»¤ï¼ˆå…³ä¸­æ–­->ä¿å­˜æ–­ç‚¹->ä¸­æ–­æœåŠ¡ç¨‹åºå¯»å€ï¼‰->ä¿å­˜ç° åœº->æ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åº->æ¢å¤ç°åœº->å¼€ä¸­æ–­->ä¸­æ–­è¿”å› å¯å±è”½ä¸­æ–­ï¼šä¸­æ–­éšæŒ‡ä»¤ï¼ˆå…³ä¸­æ–­->ä¿å­˜æ–­ç‚¹->ä¸­æ–­æœåŠ¡ç¨‹åºå¯»å€ï¼‰->å¼€ä¸­æ–­- >ä¿å­˜ç°åœºå’Œå±è”½å­—->å…³ä¸­æ–­->æ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åº->æ¢å¤ç°åœºå’Œå±è”½å­—->å¼€ä¸­ æ–­->ä¸­æ–­è¿”å› \n\ni. æµ‹å®šæ˜¯å¦æœ‰æœªå“åº”çš„ä¸­æ–­ä¿¡å·ã€‚å½“è®¾å¤‡å®ŒæˆI/Oåï¼Œè®¾å¤‡æ§åˆ¶å™¨ä¼šå‘å¤„ç†æœºå‘ é€ä¸­æ–­ä¿¡å·ï¼Œå‘Šè¯‰I/Oå®Œæˆã€‚ä¹‹åè¦æµ‹è¯•åœ¨ä¸­æ–­è¯·æ±‚é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æœªå“åº”çš„è¯· æ±‚ã€‚ \n\nii. ä¿æŠ¤è¢«ä¸­æ–­è¿›ç¨‹çš„CPUç¯å¢ƒã€‚ä¿å­˜ç°åœºï¼Œå°†è¿›ç¨‹çš„CPUä¿¡æ¯å…¨éƒ¨è½½å…¥è¿›ç¨‹PCB ä¸­ï¼ˆå †æ ˆåŒºï¼‰ï¼Œç„¶ååˆ‡æ¢è¿›ç¨‹ã€‚ \n\niii. è½¬å…¥ç›¸åº”çš„è®¾å¤‡å¤„ç†ç¨‹åºã€‚æ ¹æ®ä¸­æ–­å·æ‰¾åˆ°ç›¸åº”ç¨‹åºçš„å…¥å£ï¼Œäº¤ç»™è®¾å¤‡é©±åŠ¨ç¨‹ åºã€‚ \n\niv. ä¸­æ–­å¤„ç†ã€‚æ£€æµ‹è®¾å¤‡æ§åˆ¶å™¨ä¸­ç›¸åº”è®¾å¤‡çš„çŠ¶æ€ï¼ˆæ­£å¸¸ã€å¼‚å¸¸ï¼‰ï¼Œå¹¶ç»™äºˆç›¸åº”çš„ è§£å†³ã€‚ \n\nv. æ¢å¤CPUç°åœºå¹¶é€€å‡ºä¸­æ–­ã€‚å¦‚æœæ˜¯å±è”½ä¸­æ–­ï¼Œè¿”å›è¢«ä¸­æ–­è¿›ç¨‹ï¼›åµŒå¥—ä¸­æ–­ï¼Œæ£€ æŸ¥ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæ ¹æ®æ˜¯å¦æœ‰æ›´é«˜ä¼˜å…ˆçº§ä¸­æ–­è¯·æ±‚ï¼Œé€‰æ‹©è¿”å›åŸä¸­æ–­è¿˜æ˜¯å¤„ç†æ›´ é«˜ä¼˜å…ˆçº§ä¸­æ–­ï¼› \n\nvi. æ£€æµ‹ä¸­æ–­æ˜¯å¦å¤„ç†æ­£ç¡®ï¼Œå‘ä¸Šå±‚è½¯ä»¶ç¡®å®šç»“æœï¼ŒæŠ¥å‘Šç­‰åç»­æ“ä½œã€‚","tags":["è€ƒç ”"],"categories":["æ“ä½œç³»ç»Ÿ"]},{"title":"2021çš„ä¸€ç‚¹ç¥ç¦","url":"/2021/01/24/zhouyuntaoçš„ä¸€ç‚¹éšæƒ³/","content":"\n### 2020å¹´è¿‡å»äº†ğŸˆ\n\nğŸ˜ƒ æ–°çš„ä¸€å¹´\nå¸¦ç»™ä½ ä¸€å¦‚æ—¢å¾€çš„ç¥æ„¿\næœ‰ç››å¤©å…±èµ\næœ‰æ¸©æ±¤å¯äº«\næœ‰äººçˆ±ï¼Œæœ‰çˆ±äºº","tags":["æ–°å¹´ç¥ç¦"],"categories":["é—²è°ˆæ‚è®°"]},{"title":"æ ‘è“æ´¾çš„è£…ç³»ç»Ÿ","url":"/2020/12/31/æ ‘è“æ´¾çš„è£…ç³»ç»Ÿ/","content":"2020çš„æœ€åä¸€å¤©å•¦\næ˜¨å¤©ä¸‹åˆæ‹¿åˆ°äº†æ ‘è“æ´¾4B 2Gç‰ˆæœ¬\n<!--more--> \n### 1ã€çƒ§å½•SDå¡\nè¿™é‡Œæ¨èæ ‘è“æ´¾å®˜æ–¹çš„çƒ§å†™å·¥å…·\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201231102138625.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\nå®˜ç½‘å¥½åƒå°±æœ‰ä¸‹ï¼Œå…ˆå°†ç³»ç»Ÿä¸‹è½½ä¸‹æ¥ï¼Œå†é€‰æ‹©å°†ç³»ç»Ÿçƒ§å½•åˆ°SDå¡ã€‚\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201231102257439.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\nçƒ§å½•ç©é•œåƒåï¼Œå¼¹å‡ºUç›˜ï¼Œå†å°†Uç›˜æ’å›åˆ°ç”µè„‘ä¸­ï¼Œä¼šæ˜¾ç¤ºä¸¤ä¸ªç›˜ã€‚\n\n#### ubuntuç³»ç»Ÿ\n\nä¿®æ”¹Booté‚£ä¸ªç›˜ä¸­çš„network-configæ–‡ä»¶\n\n [ubuntuå®˜ç½‘çš„æŒ‡å¯¼](https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi#1-overview).\n æ”¹æˆè¿™æ ·çš„å°±å¥½äº†![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2020123110323522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\nä¹‹åæ‹”å‡ºSDå¡ï¼Œæ’åˆ°æ ‘è“æ´¾ä¸­ç‚¹äº®å¼€æœº\n\n#### æ ‘è“æ´¾RaspberryOS\n\nå¦‚æœæ˜¯æ ‘è“æ´¾å®˜æ–¹ç³»ç»Ÿçš„è¯ï¼Œåˆ™æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶\n\n**ssh**\n\n**wpa_supplicant.conf**\n\n```shell\nctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\nupdate_config=1\ncountry=CN\n \nnetwork={\n\tssid=\"1234567\"    #WiFiè´¦å·\n\tpsk=\"123456789\"   #WiFiå¯†ç \n}\n```\n\n\n\n\n\n### 2.SSHè¿æ¥æ ‘è“æ´¾\nç™»å½•è·¯ç”±å™¨ç®¡ç†ç•Œé¢ï¼ŒæŸ¥çœ‹è¿æ¥çš„è®¾å¤‡\næ‰¾åˆ°æ ‘è“æ´¾çš„**IP** åœ°å€ï¼Œç„¶åç”¨SSHè¿æ¥ä¸Šï¼ˆubuntuç³»ç»Ÿé»˜è®¤å¯†ç ä¸ºubuntuï¼‰\n### 3. ä¿®æ”¹æ—¶é—´\nå¯ä»¥å…ˆç”¨date å‘½ä»¤æŸ¥çœ‹æ—¶é—´\n3.1 ä¿®æ”¹æ—¶åŒº\n```shell\nsudo tzselect\nsudo cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n```\n3.2 å®‰è£…ntpdate\n```shell\nsudo apt install ntpdate\nsudo ntpdate ntp.api.bz //åŒæ­¥æ—¶é—´\n```\nä¸€èˆ¬æ¥è¯´æ—¶é—´åŒæ­¥å°±å®Œæˆäº†ï¼Œå¯èƒ½è¿˜éœ€è¦å®‰è£…\n```shell\nsudo apt install ntp\n```\n[å‚ç…§çŸ¥ä¹æŸå¤§ä½¬çš„è§£å†³æ–¹æ¡ˆ](https://zhuanlan.zhihu.com/p/190150063).\n### 4.ä¿®æ”¹å›½å†…æº\nubuntuçš„æºä½äº\n```shell\n/etc/apt/sources.list\n```\næ›¿æ¢æˆæ¸…åæº(ä¹Ÿå¯ä»¥æ›¿æ¢æˆä¸­ç§‘å¤§æºï¼Œé˜¿é‡Œäº‘ç­‰ä½†è¦æ³¨æ„æ˜¯ubuntu-portsçš„æº)\n```shell\nsudo sed -i \"s/ports.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/n\" sources.list\nsudo sed -i \"s/http/https/n\" sources.lsit\n```\næ›´æ–°å®Œå\n```shell\nsudo apt update\n```\n\n### 5. raspberryPiçš„å›½å†…æº\n\n[æ¸…åé•œåƒæº](https://mirror.tuna.tsinghua.edu.cn/help/raspbian/)","tags":["Linux"],"categories":["å·¥å…·é…ç½®"]},{"title":"æ’åºç®—æ³•æ€»ç»“","url":"/2020/12/01/æ’åºç®—æ³•æ€»ç»“/","content":"### æ•´ç†ä¸€äº›å¸¸è§çš„æ’åºç®—æ³•\n\n<!--more--> \n\n### æ’å…¥æ’åº\n\nç›´æ¥æ’å…¥æ’åºï¼ŒæŠ˜åŠæ’å…¥æ’åºï¼Œå¸Œå°”æ’åº\n### äº¤æ¢æ’åº\nå†’æ³¡æ’åºï¼Œå †æ’åº\n### é€‰æ‹©æ’åº\nç®€å•é€‰æ‹©æ’åºï¼Œå¿«é€Ÿæ’åº\n**æ­¤å¤–ï¼š** å½’å¹¶æ’åºï¼ŒåŸºæ•°æ’åº\n<!--more--> \nday11/29 é©¬ä¸Šå°±è¦è€ƒè¯•äº†ï¼Œæ‹äº†æ‹ç®—æ³•é¢˜è¦ç”¨åˆ°çš„ä»£ç \n408å¸¸è€ƒç®—æ³•é¢˜ä¸»è¦é›†ä¸­åœ¨çº¿æ€§è¡¨ä¸Šï¼Œå…¶ä¸­å¯¹äºé¡ºåºè¡¨ä¸»è¦è€ƒå¯Ÿå¯¹æ•°ç»„çš„æ“ä½œï¼Œå¯¹äºé“¾å¼è¡¨ä¸»è¦è€ƒå¯Ÿå¯¹é“¾è¡¨çš„æ“ä½œã€‚\n\nå¯¹äºæ•°ç»„æ¥è¯´ï¼Œå¾ˆå¤šé¢˜ç›®éƒ½ä¼šç”¨åˆ°æ’åºç®—æ³•ï¼Œè¿™é‡Œè®°ä¸€ä¸‹æ’åºç®—æ³•ä¸­æ€§èƒ½æœ€ä¼˜ç§€çš„**å¿«é€Ÿæ’åºç®—æ³•**\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201129162055201.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\n\n**å½’å¹¶æ’åºä¹Ÿå¾ˆé‡è¦**\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2020112916573096.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\n\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200211183023586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\n","tags":["æ’åº"],"categories":["æ•°æ®ç»“æ„/ç®—æ³•"]},{"title":"Gitçš„å¸¸è§„æ“ä½œ","url":"/2019/10/24/Gitçš„å¸¸è§„æ“ä½œ/","content":"\nå…³äºgitçš„å­¦ä¹ å…ˆæ¨èä¸€ä¸ªç½‘ç«™\n[gitå­¦ä¹ æ“ä½œç½‘ç«™](https://learngitbranching.js.org/)\nç½‘ç«™æ˜¯ç”¨jsåšçš„ï¼Œå¾ˆæœ‰æ„æ€ã€‚\n## gitå’Œgithub\ngitå’Œgithubçš„å®‰è£…å’Œä½¿ç”¨æˆ‘å°±ä¸è¯´äº†ï¼Œç™¾åº¦ä»€ä¹ˆçš„éƒ½å¯å­¦åˆ°\n<!--more--> \n### git åˆå§‹åŒ–\nè¿™é‡Œç›—å›¾ä¸€å¼ \n![gitåˆå§‹åŒ–](https://img-blog.csdnimg.cn/20191018143945774.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\n```shell\ngit init//gitåˆå§‹åŒ–\ngit remote add origin https://github.com/XXX/XXXXX.git \n//æ·»åŠ è¿œç¨‹ä»“åº“çš„åœ°å€\n```\næˆ‘ä½¿ç”¨çš„æ˜¯visual studioå†…ç½®çš„git,\nåœ¨é¡¹ç›®ä¸­æ·»åŠ åˆ°æºä»£ç ç®¡ç†åï¼Œç„¶ååŒæ­¥\n![VS2017](https://img-blog.csdnimg.cn/20191018140205917.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\né€‰æ‹©SyncåŒæ­¥pushåä¸€èˆ¬ä¼šæŠ¥ä¸¤ä¸ªé”™è¯¯\nä¸€ä¸ªæ˜¯\nrejected Updates were rejected because the remote contains work that you do not have locally\næ„æ€æ˜¯æ›´æ–°è¢«æ‹’ç»,è¿œç¨‹ä»“åº“æœ‰çš„æ–‡ä»¶ä½ æœ¬åœ°æ²¡æœ‰\né‚£å°±git pullå§\n### è¿™é‡Œè§£é‡Šä¸€ä¸‹git pull\n```shell\ngit pull origin åˆ†æ”¯åç§°\n```\n``git pull`` è™½æ˜¯ä¸€æ¡è¯­å¥ ä½œç”¨æ˜¯å°†æ‹‰å–çš„åˆ†æ”¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶\nå´æ˜¯ git fetch å’Œ git mergeä¸¤æ¡è¯­å¥\n``git fetch`` ä¼šè®¿é—®è¿œç¨‹ä»“åº“ï¼Œä»ä¸­æ‹‰å–æ‰€æœ‰ä½ è¿˜æ²¡æœ‰çš„æ•°æ®ã€‚ æ‰§è¡Œå®Œæˆåï¼Œä½ å°†ä¼šæ‹¥æœ‰é‚£ä¸ªè¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰åˆ†æ”¯çš„å¼•ç”¨ï¼Œå¯ä»¥éšæ—¶åˆå¹¶æˆ–æŸ¥çœ‹\n**ä½†æ˜¯** å¹¶ä¸ä¼šè‡ªåŠ¨åˆå¹¶æˆ–ä¿®æ”¹ä½ å½“å‰çš„å·¥ä½œã€‚ å½“å‡†å¤‡å¥½æ—¶ä½ å¿…é¡»æ‰‹åŠ¨å°†å…¶åˆå¹¶å…¥ä½ çš„å·¥ä½œ\n``git merge`` ï¼šå’Œå¹¶åˆ†æ”¯\n**æ³¨æ„**\n1.æ¯æ¬¡ä½¿ç”¨è¯¥å‘½ä»¤å‰ï¼Œéœ€è¦ä¿è¯æœ¬åœ°å·¥ä½œåŒºæ˜¯æ²¡æœ‰ä»»ä½•ä¿®æ”¹ä»£ç çš„ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦å°†æœ¬åœ°å·¥ä½œåŒºç¼–è¾‘è¿‡çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆ``git add .``ï¼‰ï¼Œæˆ–æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­(``git commit``)ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤æ‹‰å–æŒ‡å®šåˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­\n2.æ¯æ¬¡åœ¨æ“ä½œå®Œ``git commit``å‘½ä»¤åï¼Œå¿…é¡»æ‹‰å–ä¸€ä¸‹masteråˆ†æ”¯ä»£ç ï¼Œä¿æŒæœ¬åœ°æ­£åœ¨å¼€å‘åŠŸèƒ½é€»è¾‘çš„ä»£ç åˆ†æ”¯ä»£ç æ˜¯æœ€æ–°çš„ï¼Œé¿å…åç»­åœ¨æäº¤æ—¶å†²çªè¿‡å¤šæˆ–è¦†ç›–æ‰å…¶ä»–äººçš„ä»£ç çš„é—®é¢˜å‡ºç°\n![git](https://img-blog.csdnimg.cn/20191018141222881.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\nè™½ç„¶æ‰§è¡Œäº†``git pull``, ä½†æ˜¯æ²¡æœ‰å…³è”åˆ°è¿œç«¯åˆ†æ”¯ï¼Œ æ‰€ä»¥å¹¶æ²¡æœ‰è·å–è¿œç«¯åˆ†æ”¯çš„æœ€æ–°ç‰ˆ\nè®²é“ç†``git pull``ååº”è¯¥åŒæ­¥äº†å§ï¼Œ\nç„¶åæ‰§è¡Œ``git push`` è¯´**The current branch master has no upstream branch**\næ„æ€æ˜¯æœ¬åœ°åˆ†æ”¯æ²¡æœ‰å¯¹åº”åˆ°è¿œç«¯çš„åˆ†æ”¯\nå¥½ï¼Œæˆ‘ä»¬æ¥å…³è”è¿œç«¯åˆ†æ”¯\n```shell\ngit branch --set-upstream-to=origin/master\n```\nç„¶åæ‰§è¡Œ``git push``\n![æŠ¥é”™å›¾](https://img-blog.csdnimg.cn/20191018142352254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTg4MzEy,size_16,color_FFFFFF,t_70)\næœ¬åœ°åˆ†æ”¯è¦æ¯”è¿œç¨‹åˆ†æ”¯è½å\nå¿˜è®°æ‰§è¡Œ``git pull``äº†\nå†æ¬¡æŠ¥é”™\nf**atal: refusing to merge unrelated histories**\næ„æ€æ˜¯æ‹‰å–å¤±è´¥ï¼Œ æ‹’ç»merge ä¸ç›¸å…³çš„å†å²ï¼Œ å› ä¸ºæœ¬åœ°ä¹Ÿæœ‰æäº¤\næœ€åä½¿ç”¨å¤§æ€æ‹›\n```shell\ngit pull origin master --allow-unrelated-histories \n//å…è®¸ä¸ç›¸å¹²çš„å†å²\n//æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤\ngit push -u origin master -f\n```\næˆåŠŸpushäº†\n","tags":["Git"],"categories":["å·¥å…·é…ç½®"]},{"title":"C++ STL å¸¸ç”¨æ“ä½œ","url":"/2019/02/19/C-STL-å¸¸ç”¨æ“ä½œ/","content":"\n\n\nç®€å•è®°å½•ä¸€ä¸‹C++ STLåº“çš„ä¸€äº›å¸¸ç”¨æ“ä½œ\n\n<!--more--> \n\n```c++\nvector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³\n    size()  è¿”å›å…ƒç´ ä¸ªæ•°\n    empty()  è¿”å›æ˜¯å¦ä¸ºç©º\n    clear()  æ¸…ç©º\n    front()/back()\n    push_back()/pop_back()\n    begin()/end()\n    []\n    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº\n\npair<int, int>\n    first, ç¬¬ä¸€ä¸ªå…ƒç´ \n    second, ç¬¬äºŒä¸ªå…ƒç´ \n    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰\n\nstringï¼Œå­—ç¬¦ä¸²\n    size()/length()  è¿”å›å­—ç¬¦ä¸²é•¿åº¦\n    empty()\n    clear()\n    substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦))  è¿”å›å­ä¸²\n    c_str()  è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€\n\nqueue, é˜Ÿåˆ—\n    size()\n    empty()\n    push()  å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ \n    front()  è¿”å›é˜Ÿå¤´å…ƒç´ \n    back()  è¿”å›é˜Ÿå°¾å…ƒç´ \n    pop()  å¼¹å‡ºé˜Ÿå¤´å…ƒç´ \n\npriority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§æ ¹å †\n    push()  æ’å…¥ä¸€ä¸ªå…ƒç´ \n    top()  è¿”å›å †é¡¶å…ƒç´ \n    pop()  å¼¹å‡ºå †é¡¶å…ƒç´ \n    å®šä¹‰æˆå°æ ¹å †çš„æ–¹å¼ï¼špriority_queue<int, vector<int>, greater<int>> q;\n\nstack, æ ˆ\n    size()\n    empty()\n    push()  å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´ \n    top()  è¿”å›æ ˆé¡¶å…ƒç´ \n    pop()  å¼¹å‡ºæ ˆé¡¶å…ƒç´ \n\ndeque, åŒç«¯é˜Ÿåˆ—\n    size()\n    empty()\n    clear()\n    front()/back()\n    push_back()/pop_back()\n    push_front()/pop_front()\n    begin()/end()\n    []\n\nset, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—\n    size()\n    empty()\n    clear()\n    begin()/end()\n    ++, -- è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn)\n\n    set/multiset\n        insert()  æ’å…¥ä¸€ä¸ªæ•°\n        find()  æŸ¥æ‰¾ä¸€ä¸ªæ•°\n        count()  è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•°\n        erase()\n            (1) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x   O(k + logn)\n            (2) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨\n        lower_bound()/upper_bound()\n            lower_bound(x)  è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨\n            upper_bound(x)  è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨\n    map/multimap\n        insert()  æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair\n        erase()  è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨\n        find()\n        []  æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)\n        lower_bound()/upper_bound()\n\nunordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨\n    å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)\n    ä¸æ”¯æŒ lower_bound()/upper_bound()ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--\n\nbitset, åœ§ä½\n    bitset<10000> s;\n    ~, &, |, ^\n    >>, <<\n    ==, !=\n    []\n\n    count()  è¿”å›æœ‰å¤šå°‘ä¸ª1\n\n    any()  åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1\n    none()  åˆ¤æ–­æ˜¯å¦å…¨ä¸º0\n\n    set()  æŠŠæ‰€æœ‰ä½ç½®æˆ1\n    set(k, v)  å°†ç¬¬kä½å˜æˆv\n    reset()  æŠŠæ‰€æœ‰ä½å˜æˆ0\n    flip()  ç­‰ä»·äº~\n    flip(k) æŠŠç¬¬kä½å–å\n```\n\n","tags":["C++"],"categories":["æ•°æ®ç»“æ„/ç®—æ³•"]},{"title":"ubuntuç¼–è¯‘å†…æ ¸ æ·»åŠ ç³»ç»Ÿè°ƒç”¨","url":"/2019/01/24/ubuntuç¼–è¯‘å†…æ ¸-æ·»åŠ ç³»ç»Ÿè°ƒç”¨/","content":"\nLinux ç¼–è¯‘å†…æ ¸é‚£ç‚¹äº‹\nèŠ±äº†å‡ å¤©å¡«äº†ä¸€ä¸‹å‘\nå¤§æ¦‚æ­¥éª¤å°±æ˜¯ä¸‹è½½å†…æ ¸ï¼Œç¼–è¯‘å†…æ ¸ã€‚å…¶å®ä¹Ÿæ²¡ä»€ä¹ˆå¤æ‚çš„å°±æ˜¯ä¸€äº›ç»†èŠ‚è¦æ³¨æ„ä¸€ä¸‹ã€‚\n<!--more--> \nå†…æ ¸è¦ä»å®˜ç½‘ä¸‹è½½ **https://www.kernel.org/**\né€‰æ‹©tarball ä¸‹è½½é¡¹å³å¯ã€‚\nä¸‹è½½åï¼Œè¿›å…¥åˆ°æœ‰ä¸‹è½½é¡¹çš„é‚£ä¸ªç›®å½•\næ‰“å¼€ç»ˆç«¯ **sudo mv linux-4.4.179.tar.xz /usr/src** \nä¹‹åè¿›å…¥/usr/src\n\n```shell\ncd /usr/src\nsudo tar -xvf /usr/src/linux-4.16.10.tar.bz2\n```\n\nå¯èƒ½ä½ ä¼šå…ˆè§£å‹å†ç§»åŠ¨åˆ°/usr/srcæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™æ ·çš„è¯å¯èƒ½æœ‰äº›æ–‡ä»¶ä¼šåœ¨ç§»åŠ¨ä¸­ä¸¢å¤±æ‰äº†ï¼Œå¯¼è‡´ç¼–è¯‘æ˜¯ç¼ºå°‘æ–‡ä»¶\næ‰€ä»¥æœ€åˆç†çš„æ˜¯å…ˆå°†å‹ç¼©åŒ…ç§»åŠ¨åˆ°/usr/srcæ–‡ä»¶å¤¹ä¸‹ï¼Œå†è¿›è¡Œè§£å‹ã€‚\næ¥ä¸‹æ¥è¿›å…¥\n\n```shell\ncd /usr/src/linux-4.4.1179/kernel\nsudo vim sys.c\n```\næ·»åŠ ç³»ç»Ÿè°ƒç”¨çš„å‡½æ•°å®šä¹‰\n```c\nSYSCALL_DEFINE1(mycall, struct timeval *, tv) {//ç³»ç»Ÿå‡½æ•°å®šä¹‰æ ¼å¼ mycallä¸ºæ·»åŠ çš„è°ƒç”¨å‡½æ•°åï¼Œstruct timeval *, tvä¸ºå‚æ•°ä¸ºç»“æ„ä½“æŒ‡é’ˆ\nstruct timeval ktv;\ndo_gettimeofday(&ktv);//å¯èƒ½ä¼šå†™gettimeofday()ï¼Œç¬”è€…å°±å› ä¸ºå†™è¿™ä¸ªå‡½æ•°ç¼–è¯‘äº†å¥½å‡ æ¬¡éƒ½æ²¡æœ‰é€šè¿‡ï¼ŒæŠ¥é”™ä¸ºç¼ºå°‘å¤´æ–‡ä»¶,ä½†ä½œä¸ºç³»ç»Ÿå‡½æ•°ï¼Œåªèƒ½å†™do_gettimeofday().\nif(copy_to_user(tv, &ktv, sizeof(ktv) ) ) {//å°†æ ¸å¿ƒæ€çš„ç»“æœæ‹·è´åˆ°ç”¨æˆ·æ€\nreturn -EFAULT;\n}\nreturn 0;\n}\n```\nå‡½æ•°å®šä¹‰å†™å¥½åï¼Œå°±è¦åœ¨å¤´æ–‡ä»¶ä¸­æ·»åŠ å£°æ˜\n\n```shell\ncd /usr/src/linux-4.4.179/arch/x86/include/asm/\nsudo vim syscalls.h\nåœ¨æœ«å°¾æ’å…¥asmlinkage long sys_mycall(strruct timeval *tv);//å£°æ˜è¦å’Œå‡½æ•°å®šä¹‰ä¸­ä¿æŒä¸€è‡´å‡½æ•°åï¼Œå‚æ•°ç­‰\n```\nåŠ ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨çš„id\n\n```shell\ncd/usr/src/linux-4.4.179/arch/x86/entry/syscalls//è¿›å…¥/usr/src/linux-4.16.10/arch/x86/syscallsç›®å½•\n\nvim syscall_64.tbl//æ‰“å¼€æ–‡ä»¶syscall_64.tblï¼ˆè¯¥æ–‡ä»¶æœ‰ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨åˆ—è¡¨ï¼Œæœ€å‰é¢çš„å±æ€§æ˜¯id)\n```\n\nåœ¨é‡Œé¢æ·»åŠ è‡ªå·±çš„ç³»ç»Ÿè°ƒç”¨å·ï¼ˆ326  common  mycall           sys_mycallï¼‰//326ä¸ºå½“å‰è°ƒç”¨å·åŠ ä¸€å¾—æ¥çš„\n\næœ€åä¿å­˜é€€å‡º\n**æœ€åä¸€æ­¥**\né…ç½®å†…æ ¸\ncd  /usr/src/linux-4.4.179\n\nç¼–è¯‘å†…æ ¸å’Œå®‰è£…å†…æ ¸.\n\nä¾æ¬¡è¾“å…¥è¿™å››æ¡è¯­å¥\n```shell\nsudo make mrproper\nsudo make clean\nsudo make menuconfi//å…ˆç‚¹save å†ç‚¹exit\n```\n```shell\nsudo make -j8//å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ç¼–è¯‘ j8ä¸º8çº¿ç¨‹ï¼Œå¤šçº¿ç¨‹ä¸å¥½çš„åœ°æ–¹å°±æ˜¯å‡ºç°é”™è¯¯ä¸ä¼šåœä¸‹æ¥ï¼Œä¸‹ä¸€ä¸ªçº¿ç¨‹å°±åˆ‡è¿‡å»äº†ï¼Œæ‰€ä»¥ä¸ºäº†ç¨³å¦¥è¿˜æ˜¯è€è€å®å® sudo make å§\n```\nå¦‚æœè¿æ°”å¥½ï¼Œæ²¡æŠ¥é”™çš„è¯ï¼Œæ¥ä¸‹æ¥è¿›è¡Œæ¨¡å—å®‰è£…\n```shell\nsudo make modules_install  \nsudo install//å°†å†…æ ¸å®‰è£…åˆ°ç³»ç»Ÿä¸­\n```\n\nå®‰è£…å¥½åé‡å¯ç”µè„‘ï¼Œå¼€æœºé€‰é¡¹ä¸­é€‰æ‹©é«˜çº§é€‰é¡¹\né€‰æ‹©ä½ è£…å¥½çš„å†…æ ¸ç‰ˆæœ¬\nä¸‹é¢è¿›è¡ŒéªŒè¯æ·»åŠ çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°\nç¼–å†™ä¸€ä¸ªcæ–‡ä»¶\n\n```c\n#define _GNU_SOURCE\n#include <unistd.h>\n#include <sys/time.h>\n#include <sys/syscall.h>\n#include <stdio.h>\n#define __NR_mycall 333 //ç³»ç»Ÿè°ƒç”¨å·\n\nint main() {\n\n    struct timeval gettime;\n    struct timeval mycalltime;\n    gettimeofday(&gettime, NULL);\n    syscall(__NR_mycall, &mycalltime);\n    printf(\"gettimeofday:%ld %ld \\n\", gettime.tv_sec, gettime.tv_usec);\n    printf(\"mycall : %ld %ld \\n\", mycalltime.tv_sec, mycalltime.tv_usec);\n    return 0;\n}\n```\nå¦‚ä½•ç»“æœç›¸åŒåˆ™è¯æ˜æˆåŠŸäº†ã€‚\n\n","tags":["Linux"],"categories":["æ“ä½œç³»ç»Ÿ"]}]